# 1. Introduction
## 1.1 Introduction
组合数学是关于在给定条件下，凭借对部分样例的分析，但不进行对所有可能的样例的穷举分析，推导出问题的实质

## 1.2 The prisoner's Problem
囚犯问题，有如下条件：
- 共100个囚犯
- 他们都有绿色的眼睛
- 他们都可以看到所有其他人的眼睛都是绿色的
- 他们都不知道自己眼睛的颜色
- 他们之间不允许交流
- 囚犯的权利：所有的囚犯可以在晚上向守卫请求离开，如果他们的眼睛是绿色的，允许离开，否则被杀死

现在问题限于困境，每个囚犯都不知道自己的眼睛是否是绿色的，没有人可以离开

如果加上了附加条件：
- 所有囚犯中，至少有一人的眼睛是绿色的

所有囚犯都可以推断出自己的眼睛都是绿色的，所有人都可以离开

## 1.3 Solution to prisoner's Problem
(1) $n=2$时囚犯问题的解
利用归约原理(Reduction Principle)，将问题简化为两个人$P_1,P_2$

考虑$P_1$的思考，$P_1$将利用矛盾假设(Contradiction Assumption)， 在假设下推出矛盾，以否定假设，得到结论：
假设我的眼睛不是绿色的，那么$P_2$显然知道我的眼睛不是绿色的，而根据附加条件，至少有一个人的眼睛是绿色的，那么显然$P_2$会意识到自己的眼睛一定是绿色的，那么$P_2$一定会在第一天晚上离开

即$$P_1\ is\ not\ green \Rightarrow P_2\ konws\ P_1\ is\ not\ green\Rightarrow P_2\ will\ konw\ he\ is\ green\Rightarrow P_2\ will\ escape\ at\ the\ first\ night$$
即
$P_1\ is\ not\ green \Rightarrow P_2\ will\ escape\ at\ the\ first\ night$

而$P_2$知道$P_1$的眼睛是绿色的，因此无法断定自己的眼睛是绿色的，$P_2$不会在第一个晚上离开
那么在第二天早上，$P_1$发现$P_2\ will\ escape\ at\ the\ first\ night$为假，说明了$P_1\ is\ not\ green$为假，即假设不成立，$P_1$可以确认自己的眼睛是绿色的，因此在第二个晚上离开

$P_2$的思考过程是对称的，因此，两人都会在第二个晚上离开

这就是$n=2$时囚犯问题的解

(2) $n=3$时囚犯问题的解
我们考虑$n=3$，有三个人$P_1,P_2,P_3$

考虑$P_1$的思考：
假设我的眼睛不是绿色的，那么另外两个人都知道我的眼睛不是绿色的，他们一定只会观察对方的行动，即问题会被归约成$n=2$的情况(归纳原理 Induction Principle)，那么他们会在第二天晚上都离开

但是$P_2,P_3$知道$P_1$的眼睛是绿色的，因此无法根据$n=2$的解法断定自己的眼睛是绿色的，$P_2,P_3$不会在第二天晚上离开
那么在第三天早上，$P_1$发现二人没有离开，说明自己的假设不成立，即自己的眼睛是绿色的，因此在第三个晚上离开

$P_2,P_3$的思考过程是对称的，因此，三人都会在第三个晚上离开

这就是$n=3$时囚犯问题的解

(3) $n=4$时囚犯问题的解
我们考虑$n=4$，有四个人$P_1,P_2,P_3,P_4$

考虑$P_1$的思考：
假设我的眼睛不是绿色的，那么另外3个人都知道我的眼睛不是绿色的，则问题会被归约成$n=3$的情况，那么另外3个人会在第三天晚上离开

但是另外3个人知道$P_1$的眼睛是绿色的，因此无法根据$n=3$的解法在第三天早上断定自己的眼睛是绿色的，因此他们不会在第三天晚上离开
在第四天早上，$P_1$发现他们没有离开，假设不成立，因此断定自己的眼睛是绿色的，在第四个晚上离开

其余3人的思考过程同理，因此4人都会在第四个晚上离开

这就是$n=4$时囚犯问题的解

(4) $n=100$时囚犯问题的解
同理，考虑$P_1$的思考过程，如果自己的眼睛不是绿色，问题归约成$n=99$，因此，$P_1$将在第100个早上确认假设不成立，在第100个晚上离开，其他人同理

如果改变附加条件为：
- 所有囚犯中，至少有100人的眼睛是绿色的
显然$n=100$的问题立即有解，所有人在第一天晚上就可以离开

如果改变附加条件为：
- 所有囚犯中，至少有99人的眼睛是绿色的
显然$n=99$的问题立即有解，而考虑$P_1$的思考，如果自己的眼睛不是绿色，问题归约成$n=99$，那么该问题会在第一天晚上解开，那么第一天晚上另外99人会离开，而因为$P_1$的眼睛是绿色的，$P_1$会在第二天早上看到他们没有离开，$P_1$发现假设不成立，会在第二天晚上离开，其余人同理
问题解决的时间只需要额外的$100-99=1$天，因为$n=99$可以立即有解，归约的层数减少了

## 1.4 Combinatorial Principles: Contradiction, Reduction and Induction
在解决囚犯问题时，我们用了3大原理：
- 矛盾
	引入矛盾假设(和我们想要的结论相对立的假设)，根据条件推出矛盾，以证明假设错误，即我们想要的结论正确
- 归约原理
	首先降低问题的复杂性，如减少变元的数量，解决简化的问题
- 归纳原理
	使用简化的问题的解推导问题的一般情况的解

# 2. The Pigeonhole Principle
## 2.1 Theory
鸽笼定理：如果要将$n+1$只鸽子放入$n$个鸽笼，则存在有一个鸽笼里有至少两只鸽子

证明：反证法
- 提出假设
	假设我们可以保持在每个鸽笼最多只能放下1只鸽子的情况下，将$n+1$只鸽子放入$n$个鸽笼
- 推出矛盾
	因为每个鸽笼最多只能放下1只鸽子，则$n$个鸽笼最多只能放下$n$只鸽子，这和我们可以将$n+1$个鸽子放入$n$个鸽笼的事实矛盾，因此假设错误
	因此我们不可以保持在每个鸽笼最多只能放下1只鸽子的情况下，将$n+1$只鸽子放入$n$个鸽笼，故存在有一个鸽笼里有至少两只鸽子

推广：如果要将$m\times n+1$只鸽子放入$n$个鸽笼，则存在有一个鸽笼里有至少$m+1$只鸽子

证明：反证法
- 提出假设
	假设我们可以保持在每个鸽笼最多只能放下$m$只鸽子的情况下，将$n+1$只鸽子放入$n$个鸽笼
- 推出矛盾
	因为每个鸽笼最多只能放下$m$只鸽子，则$n$个鸽笼最多只能放下$m\times n$只鸽子，和我们可以将$m\times n+1$个鸽子放入$n$个鸽笼的事实矛盾，因此假设错误
	因此我们不可以保持在每个鸽笼最多只能放下$m$只鸽子的情况下，将$m\times n+1$只鸽子放入$n$个鸽笼，故存在有一个鸽笼里有至少$m+1$只鸽子

我们认为在同一个鸽笼里的鸽子具有共同的性质
## 2.2 Systematic Approach
假设我们有$v$个变量，如果我们希望其中至少有$l$个变量具有共同的性质：
我们令$p$为变量能具有的所有可能性质的个数，根据鸽笼定理，只要满足$v = (l-1)\times p + 1$，则至少会有$l$个变量具有同一种性质，因此我们希望保证变量能具有的所有可能性质的个数为$p = (v-1)/(l-1)$即可

假设我们有$v$个对象，将其分为$n$类，在每一类中，对象与对象的值保证不相同，但在不同类则没有限制，如果我们希望至少有$l$类中包含了值相同的对象：
我们令$m$为对象能取得所有可能值的个数，根据鸽笼定理，只要满足$v = (l-1)\times m + 1$，则至少会有$l$个对象具有相同的值，又因为相同的值的对象不可能在同一类中，因此至少又$l$类中包含了值相同的对象，因此我们希望保证对象能具有的所有可能值的个数为$m = (v-1)/(l-1)$即可

## 2.3 Solved Problems

## 2.4 Ramsy Theory


