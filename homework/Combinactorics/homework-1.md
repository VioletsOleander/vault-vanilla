# 基本题

## 1.1 

(1) 任何两个男生不相邻，即任意一个男生的两边都只能是女生。考虑先让 $n$ 个女生排成一行，一共有 $P (n, n) = n!$ 中排法，此时，一共有 $n+1$ 个位置排入男生，一共有 $P (n+1, m) = \frac {(n+1)!}{(n+1-m)!}$ 种排法。

因此，一共有 $P (n, n)\times P (n+1, m) = \frac {n! (n+1)!}{(n+1-m)!}$ 种排法。

(2) 将 $n$ 个女生形成的整体看作一个元素，女生内部的排列方式有 $P(n, n) = n!$ 种，然后问题转化为 $m+1$ 个元素的全排列数量，即 $P (m+1, m+1) = (m+1)!$。

因此，一共有 $P(n,n)\times P(m+1, m+1) = n!(m+1)!$ 种排法。

(3) 首先从男生群体和女生群体挑出男生 $A$ 和女生 $B$，$A, B$ 相邻的排法有 $P (2,2) = 2$ 种，然后对于剩下的 $m-1+n-1 = m+n-2$ 名同学进行全排列，一共有 $P (m+n-2, m+n-2) = (m+n-2)!$ 种排法，最后让 $A, B$ 选择 $m+n-1$ 个位置中的其中一个，一共有 $m+n-1$ 个选法。

因此，一共有 $2\times (m+n-1)\times (m+n-2)! = 2(m+n-1)!$ 种排法。

## 1.2

(1) 先排6名男生，排法一共有 $P (6,6)/6 = 5! = 120$ 种。此时有6个位置排入5名女生，一共有 $P (6,5) = 720$ 种。

因此，一共有 $120*720 = 86400$ 种排法。

(2) 女生内部的全排列有 $5!$ 种，然后问题转化为7个元素的环形全排列，即 $P (7,7)/7 = 6!$ 种。

因此，一共有 $5!\times 6! = 86400$ 种排法。

(3) 先从男生中先后挑出2名男生，有 $6\times 5$ 种选法，此时两名男生和女生 $A$ 之间的排法有2种，然后问题转化为9个元素的环形全排列，即 $P (9,9)/9 = 8!$ 种。

因此，一共有 $30\times 2 \times 8! = 2419200$ 种排法。

## 1.3

$$
\begin{align}
&\sum_{k=1}^nk\cdot k!\\
=&\sum_{k=1}^n(k+1-1)k!\\
=&\sum_{k=1}^n(k+1)! - k!\\
=&(n+1)! - 1!\\
=&(n+1)!-1
\end{align}
$$

## 1.4

$10^{40} = 2^{40}\times 5^{40}$
$20^{30} = 2^{60}\times 5^{30}$ 

因此，二者的公因数可以写为 $2^n \times 5^m$，其中 $0\le n \le 40, 0\le m\le 30$，因此一共有 $41\times 31 = 1271$ 个数。

## 1.5

考虑1-999999
个位上，每经过10个数，0出现1次，因此个位上0出现过100000次
十位上，每经过100个数，0出现10次，因此十位上0出现过100000次
百位上，每经过1000个数，0出现100次，因此百位上0出现过100000次
千位上，每经过10000个数，0出现1000次，因此千位上0出现过100000次
万位上，每经过100000个数，0出现10000次，因此万位上0出现过100000次

考虑1000000
出现了6个0

因此一共出现了500006个零

## 1.6

假设每个盒子内的小球数量分别为 $a_1, a_2,\dots, a_r$，根据题意，方案数即在满足 $1\le a_1, a_2,\dots, a_r \le n$ 的情况下，线性方程 $a_1 + a_2 + \dots + a_r = n$ 的解数量

方程 $a_1 + a_2 + \dots + a_r = n$ 的满足题意的解数量等价于方程 $(a_1 - 1) + (a_2 - 1) + \dots +(a_r -1) = n-r$ 的非负解数量，即 $C (n-r + r - 1, r-1) = C (n-1, r-1)$ 

## 1.7

假设每个盒子内的小球数量分别为 $a_1, a_2,\dots, a_r$，根据题意，方案数即在满足 $k\le a_1, a_2,\dots, a_r \le n$ 的情况下，线性方程 $a_1 + a_2 + \dots + a_r = n$ 的解数量

方程 $a_1 + a_2 + \dots + a_r = n$ 的满足题意的解数量等价于方程 $(a_1 - k) + (a_2 - k) + \dots +(a_r -k) = n-rk$ 的非负解数量，即 $C (n-rk + r - 1, r-1) = C (n+r-rk-1, r-1)$ 

## 1.8

要求空盒不相邻，显然至少需要4个盒子里有球，且这4个盒子必须之间相隔一个空盒，因此从5个小球取出4个，放入4个互相隔着一个空盒的盒子，有 $2\times P (5,4)$ 种方法，剩下一个小球可以任意放在8个盒子其中一个，因此一共有 $8\times 2\times P (5,4) = 1920$ 种方法。

## 1.9

(1) 对于长方形，仅需要选出两个 $a$，两个 $b$，即可确定。选出两个 $a$ 的选法有 $C (10, 2)$，选出两个 $b$ 的选法有 $C (6, 2)$，故一共有 $C (10, 2)\times C (6,2) = 675$ 种。

(2) 对于正方形，确定了边长后，仅需要选择出一个左下角的顶点，即1个 $a$，1个 $b$ 即可。

边长为1，有 $(10-1)\times (6-1)$ 种；边长为2，有 $(10-2)\times (6-2)$ 种，以此类推，边长为5时，有 $(10-5)\times (6-5)$ 种，故一共数目为：

$$
\sum_{i=1}^5(10-i)\times(6-i) = 115
$$

## 1.10

(1) 考虑先从 $n$ 个0中取出 $k (0\le k \le n)$ 个0，再从 $\{1,2,\dots, n\}$ 中取出 $n-k$ 个元素，方案数为 $C (n, n-k)$。

因此总方案数为  $\sum_{k=0}^n C (n, n-k) = 2^n$

(2) 考虑先从 $n$ 个0中取出 $k (0\le k \le n)$ 个0，再从 $\{1,2,\dots, 2n+1\}$ 中取出 $n-k$ 个元素，方案数为 $C (2n+1, n-k)$。

因此总方案数为  $\sum_{k=0}^n C (2n+1, n-k)$

## 1.11

使用第一台机器的人数可以是 $0,1,2,\dots, \lfloor m/2 \rfloor$，使用第二台机器的人数和第一台相同，剩余的学生分配给后三台机器，故一共有：

$$
\sum_{i=0}^{\lfloor m/2 \rfloor}C(m-2i+2,2)
$$

## 1.12

题意符合卡特兰数的概念，故数目为 $C_n = \frac {1}{n+1}C (2n, n) = \frac 1 {n+1}\frac {(2n)!}{n!n!}$

